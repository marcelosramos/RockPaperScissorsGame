webpackJsonp([1],{"+VGo":function(t,e){},0:function(t,e,n){t.exports=n("NHnr")},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/5sW"),a=n("mtWM"),r=n.n(a),i=n("M4fF"),p=n.n(i),s={name:"MatchInfo",data:function(){return{opponentId:"",movesObj:{}}},props:{id:String,player1:Object,player2:Object,scores:Object,games:Array,complete:Boolean,over:Boolean,winner:String,playerId:String,moves:Array},created:function(){this.movesObj=p.a.keyBy(this.moves,"intValue")},updated:function(){this.complete&&(this.opponentId=this.playerId===this.player1.id?this.player2.id:this.player1.id)}},c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.over&&(t.winner===t.playerId?"win":t.winner===t.opponentId?"lose":"tie")},[n("h2",[t._v("Match: "),t.complete?n("small",[t._v("(you) "),n("strong",[t._v(t._s(t.scores[t.playerId]))]),t._v(" vs "),n("strong",[t._v(t._s(t.scores[t.opponentId]))]),t._v(" (your opponent)")]):t._e()]),t.complete?n("p",[n("strong",[t._v("Match ID:")]),t._v(" "+t._s(t.id)),n("br"),n("strong",[t._v("Your opponent ID:")]),t._v(" "+t._s(t.opponentId)),n("br"),t.games&&t.games.length>0?n("table",[t._m(0),t._l(t.games,function(e,o){return n("tr",{key:o,class:e.winner===t.playerId?"win":e.winner===t.opponentId?"lose":"tie"},[n("td",[t._v(t._s(o+1))]),n("td",[t._v("\n          "+t._s(e.player1.id===t.playerId?t.movesObj[e.player1Move.value].name:t.movesObj[e.player2Move.value].name)+"\n        ")]),n("td",[t._v("\n          "+t._s(e.player1.id===t.opponentId?t.movesObj[e.player1Move.value].name:t.movesObj[e.player2Move.value].name)+"\n        ")]),n("td",[n("strong",[t._v("\n            "+t._s(e.winner===t.playerId?"WIN":e.winner===t.opponentId?"LOSE":"TIE")+"\n          ")])])])})],2):t._e()]):n("p",[t._v("\n    Waiting for an opponent...\n  ")]),t.over?n("h1",[t._v("\n    "+t._s(t.winner===t.playerId?"WIN":t.winner===t.opponentId?"LOSE":"TIE")+"\n  ")]):t._e()])},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("Game")]),n("th",[t._v("You")]),n("th",[t._v("Opponent")]),n("th",[t._v("Result")])])}],v=n("XyMi");function u(t){n("Y2Xy")}var _=!1,d=u,h="data-v-19e03f9c",y=null,m=Object(v["a"])(s,c,l,_,d,h,y),f=m.exports,I=n("anxt"),b={name:"GameControls",props:{matchId:String,playerId:String,moves:Array,waitingPlayer:String},created:function(){this.connection=new I.HubConnection(this.$HUB_URL),this.connection.start()},methods:{onMove:function(t){this.connection.send("NewMove",this.matchId,this.playerId,t)}}},g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Game Controls")]),t._l(t.moves,function(e){return t.waitingPlayer!==t.playerId?n("div",{key:e.intValue,staticClass:"control-buttons"},[n("button",{on:{click:function(n){t.onMove(e.value)}}},[t._v("\n      "+t._s(e.name)+"\n    ")]),t._v("\n    Â "),n("small",[t._v("Beats: "+t._s(e.beats))])]):t._e()}),t.waitingPlayer===t.playerId?n("p",[t._v("Waiting for opponent's move...")]):t._e()],2)},E=[];function w(t){n("xytn")}var M=!1,$=w,O="data-v-4c2db530",T=null,L=Object(v["a"])(b,g,E,M,$,O,T),R=L.exports,P=n("anxt"),U={name:"MainContainer",components:{MatchInfo:f,GameControls:R},created:function(){var t=this;this.connection=new P.HubConnection(this.$HUB_URL),this.$http.post(this.$NEW_PLAYER_URL).then(function(e){var n=e.data;return t.playerId=n.id}),this.$http.get(this.$GET_MOVES_URL).then(function(e){var n=e.data;return t.moves=n}),this.$http.get(this.$GET_PLAYER_TYPES_URL).then(function(e){var n=e.data;return t.playerTypes=n})},data:function(){return{match:null,moves:[],playerId:"",waitingPlayer:"",playerTypes:[],opponentType:"human"}},methods:{createNewMatch:function(){var t=this;this.connection.stop(),this.$http.post(this.$NEW_MATCH_URL,{playerId:this.playerId,opponentType:this.opponentType}).then(function(e){var n=e.data;t.match=n,t.connection.on(n.id,function(e,n){t.match=e,t.waitingPlayer=n}),t.connection.start().then(function(){return t.connection.send("NewMatch",n.id)})})}}},C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Player ID: "+t._s(t.playerId))]),n("strong",[t._v("Choose an opponent type:")]),n("div",{staticClass:"radio-button-group"},t._l(t.playerTypes,function(e){return n("div",{key:e.intValue,staticClass:"radio-button-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.opponentType,expression:"opponentType"}],attrs:{type:"radio",id:e.intValue},domProps:{value:e.value,checked:t._q(t.opponentType,e.value)},on:{change:function(n){t.opponentType=e.value}}}),n("label",{attrs:{for:e.intValue}},[t._v(t._s(e.name))])])})),n("button",{staticClass:"btn-new-match",on:{click:t.createNewMatch}},[t._v("NEW MATCH")]),t.match?n("div",[n("hr"),n("MatchInfo",t._b({attrs:{playerId:t.playerId,moves:t.moves}},"MatchInfo",t.match,!1)),t.match.complete&&!t.match.over?n("div",[n("hr"),n("GameControls",{attrs:{"match-id":t.match.id,"player-id":t.playerId,moves:t.moves,waitingPlayer:t.waitingPlayer}})],1):t._e()],1):t._e()])},N=[];function j(t){n("rlmu")}var A=!1,S=j,G="data-v-44872374",W=null,x=Object(v["a"])(U,C,N,A,S,G,W),H=x.exports,V={name:"app",components:{MainContainer:H}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("MainContainer")],1)},k=[];function B(t){n("+VGo")}var D=!1,X=B,q=null,F=null,J=Object(v["a"])(V,Y,k,D,X,q,F),z=J.exports;o["a"].config.productionTip=!1;var K=Object({NODE_ENV:"production",BASE_URL:"/"}).API_URL||"http://localhost:49445",Q="".concat(K,"/api"),Z="".concat(Q,"/player"),tt="".concat(Q,"/player"),et="".concat(Q,"/match"),nt="".concat(Q,"/moves"),ot="".concat(K,"/match");o["a"].prototype.$http=r.a,o["a"].prototype.$ROOT_URL=K,o["a"].prototype.$API_URL=Q,o["a"].prototype.$NEW_PLAYER_URL=Z,o["a"].prototype.$GET_PLAYER_TYPES_URL=tt,o["a"].prototype.$NEW_MATCH_URL=et,o["a"].prototype.$GET_MOVES_URL=nt,o["a"].prototype.$HUB_URL=ot,new o["a"]({render:function(t){return t(z)}}).$mount("#app")},Y2Xy:function(t,e){},rlmu:function(t,e){},xytn:function(t,e){}},[0]);
//# sourceMappingURL=app.4092147b.js.map